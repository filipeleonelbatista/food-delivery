{% extends "base.html" %}

{% import "bootstrap/wtf.html" as wtf %}

{% block head %}
{{ super() }}

{% endblock %}

{% block page_content %}

    <!-- Mensagens -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        <!-- Categories: success (green), info (blue), warning (yellow), danger (red) -->
            {% if messages %}
                {% for category, message in messages %}
                <div class="alert alert-{{ category }}">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    {{ message }}
                </div>
                {% endfor %}
            {% endif %}
    {% endwith %}
    <!-- Mensagens -->

    <div class="col-xl-12 col-lg-7">
        <div class="card shadow mb-4">
          <div class="card-header py-3">
          <!-- Card Header - Dropdown -->
              
              <div class="col-sm-12">
                <div class="row d-flex align-items-center"> 
                  <div class="col-sm">
                    <h4 class="m-0 font-weight-bold text-primary">Informações comerciais </h4>
                  </div>                           
                  <div class="col-sm d-flex justify-content-end">                 
                      {{form.salvar(class_="btn btn-sm btn-success mr-1")}}
                      {{form.cancelar(class_="btn btn-sm btn-danger mr-1")}}
                  </div>
                </div>
              </div>

            </div>
          <!-- Card Body -->
            <div class="card-body">            
              <div class="col-sm-12">
                <div class="row">
                  <div class="col-sm">
                    <b> Razão Social:</b>
                    {{ form.razaoSocial(class_="form-control", placeholder="...", value=config.razaoSocial) }}
                  </div>
                  <div class="col-sm">
                    <b> Nome Fantasia:</b> 
                    {{ form.nomeFantasia(class_="form-control", placeholder="...", value=config.nomeFantasia) }}
                  </div>
                  <div class="col-sm">
                    <b> CNPJ:</b> 
                    {{ form.CNPJ(class_="form-control", placeholder="...", value=config.CNPJ, inputmode="numeric") }}
                  </div>
                </div>
                <!-- Endereco -->
                <hr>
                <h3>Informações de localização</h3>
                <div>
                  <div class="row">

                    <div class="col-sm">              
                        {{ form.UF.label }}        
                        {{ form.UF(class_="form-control", onchange="selecionarCidade('this.value')", required="required") }}
                        {{ form.pais.label }}  
                        {{ form.pais(class_="form-control", required="required") }}
                    </div>
                        <div class="col-sm">     
                            {{ form.municipio.label }}                  
                            {{ form.municipio(class_="form-control", required="required") }}           
                            <div class="md-form">
                            {{ form.CEP.label }}  
                            {{ form.CEP(class_="form-control", onblur="pesquisacep(this.value);", required="required", value=config.endereco.cep, inputmode="numeric") }}
                            </div>                
                        </div>
                        
                    </div>
                    <div class="row">
                        <div class="col-sm">
                            <div class="md-form">
                              {{ form.endereco.label }} 
                                {{ form.endereco(class_="form-control", required="required", value=config.endereco.endereco) }}
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="md-form">
                              {{ form.numero.label }}
                              {{ form.numero(class_="form-control", required="required", value=config.endereco.numero, inputmode="numeric") }}
                            </div>
                        </div>
                    </div>
                    
                    <div class="md-form">
                        {{ form.complemento.label }} 
                        {{ form.complemento(class_="form-control", value=config.endereco.complemento) }}
                    </div> 
                    <div class="md-form">
                        {{ form.bairro.label }}
                        {{ form.bairro(class_="form-control", required="required", value=config.endereco.bairro) }}
                    </div> 
                </div>
            <!-- Fim endereco -->
                <!-- Contato -->
                <hr>
                <h3>Informações de contato</h3>
               <div >
                <div class="row">
                  <div class="col-sm">
                     <div class="md-form">                
                      <label>Whatsapp:</label> 
                          {{ form.whatsapp(class_="form-control", value=config.whatsapp, inputmode="numeric") }}  
                     </div>
                  </div>
                  <div class="col-sm">
                      <div class="md-form">
                        <label>Facebook:</label>
                          {{ form.facebook(class_="form-control", value=config.facebook) }}
                      </div>
                  </div>
                  <div class="col-sm">
                      <div class="md-form">
                        <label>Twitter:</label>
                          {{ form.twitter(class_="form-control", value=config.twitter) }}
                      </div>
                  </div>
              </div>
              <div class="row">
                  <div class="col-sm">
                      <div class="md-form">
                        <label>Instagram:</label>
                          {{ form.instagram(class_="form-control", value=config.instagram) }}
                      </div>
                  </div>
                  <div class="col-sm">
                      <div class="md-form">
                        <label>Youtube:</label>
                          {{ form.youtube(class_="form-control", value=config.youtube) }}
                      </div>
                  </div>
                  <div class="col-sm">
                      <div class="md-form">
                        <label>Linkedin:</label>
                          {{ form.linkedin(class_="form-control", value=config.linkedin) }}
                      </div>
                  </div>
                  <div class="col-sm">
                      <div class="md-form">
                          <label>Telefone:</label>
                          {{ form.telefone(class_="form-control", value=config.telefone, inputmode="numeric") }}
                      </div>
                  </div>                
              </div>
              <div class="row">
                  <div class="col-sm">
                      <div class="md-form">
                        <label>Email:</label>
                          {{ form.email(class_="form-control", value=config.email) }}
                      </div>
                  </div>
              </div>
               </div>
                <!-- Fim do contato -->
                <hr>
                <!-- Validade do sistema -->
                <div class="row">
                  <div class="col-sm">
                    <b> Validade do sistema:</b> {{ config.validade.strftime('%d/%m/%Y') }}
                  </div>
                  <div class="col-sm">
                    <b> Versão do sistema:</b> {{ config.versao }}
                  </div>
                  {% if current_user.perfilUsuario.id == 1 %}
                  <div class="col-sm">
                    <b>Status do sistema:</b> 
                    {% if config.ativa %}
                    <i class="fas fa-check" style="color:green;"></i>
                    {% else %}
                    <i class="fas fa-times" style="color:red;"></i>
                    {% endif %}
                  </div>                  
                  <div class="col-sm">
                    <b>Possui atualização:</b> 
                    {% if config.update %}
                    <i class="fas fa-check" style="color:green;"></i>
                    {% else %}
                    <i class="fas fa-times" style="color:red;"></i>
                    {% endif %}
                  </div>
                  {% endif %}
                </div>
              
          </div>
          
        </div>
          <!-- Fim do cardbody  -->
      </div>
    </div>

{% endblock %}

{% block scripts %}
{{ super() }}
    <script src="{{ url_for('static', filename='jquery.dataTables.min.js') }}"></script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
{% endblock %}
