{% extends "base.html" %}

{% import "bootstrap/wtf.html" as wtf %}

{% block head %}
{{ super() }}

{% endblock %}

{% block page_content %}

    <!-- Mensagens -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        <!-- Categories: success (green), info (blue), warning (yellow), danger (red) -->
            {% if messages %}
                {% for category, message in messages %}
                <div class="alert alert-{{ category }}">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    {{ message }}
                </div>
                {% endfor %}
            {% endif %}
    {% endwith %}
    <!-- Mensagens -->


    <div class="col-xl-12 col-lg-7">
      <div class="card shadow mb-4">
        <div class="card-header py-3">
        <!-- Card Header - Dropdown -->
            
            <div class="col-sm-12">

              <div class="row d-flex align-items-center"> 
                <div class="col-sm">
                  <h4 class="m-0 font-weight-bold text-primary">Editar status padrão</h4>
                </div>                           
                <div class="col-sm d-flex justify-content-end">                 
                    {{form.salvar(class_="btn btn-sm btn-success mr-1")}}
                    {{form.cancelar(class_="btn btn-sm btn-danger mr-1")}}
                </div>
              </div>
            </div>

          </div>
        <!-- Card Body -->
          <div class="card-body"> 
            <div class="col-sm-12">
                <table class="table table-sm">
                    <thead>
                      <tr>
                        <th>Ordem</th>
                        <th>Status atual</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for stat in status %}                  
                      <tr>
                        <td>{{stat.ordem}}</td>
                        <td> <button class="btn btn-sm btn-{{stat.cor}}">{{stat.nome}}</button> </td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
            </div>           
            
            <div class="row">
              <div class="col-sm">
                  <div class="md-form">           
                    <label>Descrição curta:</label>
                      {{ form.descricao(class_="md-textarea form-control") }} 
                  </div>
              </div>    
          </div>
          <div class="row">
              <div class="col-sm">
                  <div class="md-form">
                    <label>Sobre a empresa:</label>
                      {{ form.sobre(class_="md-textarea form-control") }}
                  </div>
              </div> 
          </div>
        
          </div>
        <!-- Fim do cardbody  -->
    </div>
  </div>
{% endblock %}

{% block scripts %}
{{ super() }}
    <script src="{{ url_for('static', filename='jquery.dataTables.min.js') }}"></script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
{% endblock %}
